<?xml version="1.0" encoding="UTF-8" ?>
<Shell
    x:Class="ServerMonitor.AppShell"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:ServerMonitor"
    xmlns:vm="clr-namespace:ServerMonitor.ViewModels"
    Shell.FlyoutBehavior="Flyout"
    Shell.BackgroundColor="LightGray"
    Shell.FlyoutBackgroundColor="White"
    Shell.FlyoutWidth="250"
    Shell.ForegroundColor="Black">

    <Shell.TitleView>
        <Grid ColumnDefinitions="Auto,*,Auto" VerticalOptions="Center">
            <Label Grid.Column="0" WidthRequest="40"/>
            <Image Grid.Column="1"
                   Source="logo.png"
                   HeightRequest="50"
                   HorizontalOptions="Center"/>
            <Label Grid.Column="2" WidthRequest="40"/>
        </Grid>
    </Shell.TitleView>

    <ShellContent Route="login" 
                  ContentTemplate="{DataTemplate local:LoginPage}" 
                  FlyoutItemIsVisible="False"/>

    <ShellContent Route="register" 
                  ContentTemplate="{DataTemplate local:RegisterPage}" 
                  FlyoutItemIsVisible="False"/>

    <ShellContent Route="MainPage" 
                  ContentTemplate="{DataTemplate local:MainPage}" 
                  FlyoutItemIsVisible="False"/>

    <ShellContent Route="GraphicsPage" 
                  ContentTemplate="{DataTemplate local:GraphicsPage}" 
                  FlyoutItemIsVisible="False"/>

    <Shell.FlyoutHeader>
        <Grid BackgroundColor="#4d62da" Padding="20" HeightRequest="100">
            <Image Source="logo_menu.png" 
                   HeightRequest="60" 
                   HorizontalOptions="Center" 
                   VerticalOptions="Center"/>
        </Grid>
    </Shell.FlyoutHeader>

    <Shell.FlyoutContent>
        <StackLayout BackgroundColor="White" Spacing="0">

            <Grid Padding="15,30" BackgroundColor="Transparent">
                <Grid.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding NavigateToMainPageCommand}"/>
                </Grid.GestureRecognizers>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" 
                       Text="ðŸ“Š" 
                       FontSize="24" 
                       VerticalOptions="Center"
                       HorizontalOptions="Center"/>
                <Label Grid.Column="1"
                       Padding="15"
                       Text="DATOS" 
                       FontSize="14"
                       TextColor="Black"
                       VerticalOptions="Center"/>
            </Grid>

            <Grid Padding="15,10" BackgroundColor="Transparent">
                <Grid.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding NavigateToGraphicsPageCommand}"/>
                </Grid.GestureRecognizers>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" 
                       Text="ðŸ“ˆ" 
                       FontSize="24" 
                       VerticalOptions="Center"
                       HorizontalOptions="Center"/>
                <Label Grid.Column="1" 
                       Padding="15"
                       Text="GRÃFICOS" 
                       FontSize="14"
                       TextColor="Black"
                       VerticalOptions="Center"/>
            </Grid>

        </StackLayout>
    </Shell.FlyoutContent>

    <Shell.FlyoutFooter>
        <StackLayout BackgroundColor="White" Spacing="0">

            <BoxView HeightRequest="1" 
                     BackgroundColor="LightGray" 
                     Margin="10,0"/>

            <Grid Padding="15,10" BackgroundColor="Transparent">
                <Grid.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding NavigateToEditProfileCommand}"/>
                </Grid.GestureRecognizers>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" 
                       Padding="5"
                       Text="ðŸ‘¤" 
                       FontSize="24" 
                       VerticalOptions="Center"
                       HorizontalOptions="Center"/>
                <Label Grid.Column="1" 
                       Text="EDITAR PERFIL" 
                       FontSize="14"
                       TextColor="Black"
                       VerticalOptions="Center"/>
            </Grid>

            <Grid Padding="15,10" BackgroundColor="Transparent">
                <Grid.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding CerrarSesionCommand}"/>
                </Grid.GestureRecognizers>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" 
                       Padding="5"
                       Text="ðŸšª" 
                       FontSize="24" 
                       VerticalOptions="Center"
                       HorizontalOptions="Center"/>
                <Label Grid.Column="1" 
                       Text="CERRAR SESIÃ“N" 
                       FontSize="14"
                       TextColor="Red"
                       VerticalOptions="Center"/>
            </Grid>

            <Grid BackgroundColor="#4d62da" 
                  Padding="18" 
                  HeightRequest="50">
                <Label Text="DieFer v1.0 - 2025"
                       FontSize="12"
                       TextColor="White"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"/>
            </Grid>

        </StackLayout>
    </Shell.FlyoutFooter>
</Shell>